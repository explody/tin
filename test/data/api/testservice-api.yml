---
hasmethods:
  methods:
    list:
      method:   GET
      path:     /things
      expect:   200
      paginate: true
      return:   list
    get:
      method:   GET
      path:     /things/:id
      expect:   [200, 201]
      return:   singleton
    create:
      method:   POST
      path:     /things
      expect:   201
    update:
      method:   PUT
      path:     /things/:id
      expect:   200
      object_method: update
      default_tokens:
        otherthing: changedstuff
    delete:
      method:   DELETE
      path:     /things/:lots/:of/:tokens/here/:id
      nobase:   true
      expect:   204
      default_params:
        confirm: true
container:
  subcontainer:
    model: mymodel
    list_data_key: "mymodels"
    singleton_data_key: "mymodel"
    methods:
      list:
        method: GET
        path: /stuff/whatnot
        return: dict
      get:
        method: GET
        path: /stuff/whatnot/:id
        return: singleton
        object_method: read
      create:
        method: POST
        path: /stuff/whatnot
        object_method: create
        return: singleton
      update:
        method: PUT
        path: /stuff/whatnot/:id
        object_method: update
        return: singleton
      delete:
        method: DELETE
        path: /stuff/whatnot/:id
        object_method: delete
        expect: 204
  subcontainer2:
    model: mymodel_otherid
    methods:
      list:
        method: GET
        path: /stuff/folders
      get:
        method: GET
        path: /stuff/folders/:id
      create:
        method: POST
        path: /stuff/folders
      update:
        method: PUT
        path: /stuff/folders/:id
      delete:
        method: PUT
        path: /stuff/folders/:id
    subcontainer3:
      methods:
        list:
          method: GET
          path: /obscurepath/items
  nomodel:
    methods:
      list:
        method: GET
        path: /nomodel/items
errors:
  methods:
    badmethod:
      method: FAKE
      path: /doesnt/matter